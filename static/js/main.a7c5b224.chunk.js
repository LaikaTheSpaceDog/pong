(this["webpackJsonpping-pong-tournament"]=this["webpackJsonpping-pong-tournament"]||[]).push([[0],{29:function(e,t,a){e.exports=a(45)},42:function(e,t,a){},43:function(e,t,a){},45:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(14),s=a.n(l),i=a(11),c=a(13),o=a(1),u={players:[],shuffledPlayers:[],games:[],winners:[],round:1,submitted:!1,finished:!1,winningScore:21},m=function(e){h(e);for(var t=[],a=0,n=e.length;a<n;a+=2)t.push({player1:e[a],player2:e[a+1]});return t},h=function(e){for(var t=e.length;t;){var a=Math.floor(Math.random()*t--),n=e[t];e[t]=e[a],e[a]=n}return e},d=function(e,t){switch(t.type){case"ADD_PLAYERS":return function(e,t){var a=t.players;return Object(o.a)(Object(o.a)({},e),{},{players:a,submitted:!0})}(e,t);case"CREATE_GAMES":return function(e,t){var a=t.shuffledPlayers,n=t.winningScore;return Object(o.a)(Object(o.a)({},e),{},{games:m(a),winningScore:n})}(e,t);case"RESET":return Object(o.a)({},u);case"WINNER":return function(e){return Object(o.a)(Object(o.a)({},e),{},{finished:1===e.winners.length&&1===e.games.length})}(function(e,t){var a=t.winner;return Object(o.a)(Object(o.a)({},e),{},{winners:[].concat(Object(c.a)(e.winners),[a])})}(e,t));case"NEXT":return function(e){return Object(o.a)(Object(o.a)({},e),{},{players:e.winners,winners:[],round:e.round+1,games:m(e.winners)})}(e);default:return e}},b=a(27),p=a.n(b),y=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||i.b,E=Object(i.c)(d,u,y(p()())),f=a(9),N=(a(42),a(16)),g=a(3),w=(a(43),function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",{className:"heading landing"},"(Ping)-Pong"),r.a.createElement("section",{className:"cardLanding here"},r.a.createElement("div",{className:"rightBar"}),r.a.createElement("div",{className:"leftBar"}),r.a.createElement("div",{className:"ball"})),r.a.createElement("div",{className:"centerButton"},r.a.createElement(N.b,{className:"button",to:"/home"},"Click to Enter")))}),v=a(17),O=a(18),S=a(4),j=a(20),k=a(19),P=function(e){Object(j.a)(a,e);var t=Object(k.a)(a);function a(e){var n;return Object(v.a)(this,a),(n=t.call(this,e)).originalName=function(e){return!n.state.playerArray.includes(e)},n.powerOf2MoreThan4=function(e){return!(e<4)&&(e&&0===(e&e-1))},n.state={playerName:"",playerArray:[],shuffledPlayers:[],playersError:!1,hovering:0,originalName:2,winningScore:e.winningScore},n.handlePlayer=n.handlePlayer.bind(Object(S.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(S.a)(n)),n.handleAddPlayer=n.handleAddPlayer.bind(Object(S.a)(n)),n.handleClear=n.handleClear.bind(Object(S.a)(n)),n.handleFilter=n.handleFilter.bind(Object(S.a)(n)),n.handleHover=n.handleHover.bind(Object(S.a)(n)),n.handleWinning=n.handleWinning.bind(Object(S.a)(n)),n}return Object(O.a)(a,[{key:"handlePlayer",value:function(e){this.setState({playerName:e.currentTarget.value})}},{key:"handleAddPlayer",value:function(){this.originalName(this.state.playerName)?this.setState({playerArray:[].concat(Object(c.a)(this.state.playerArray),[this.state.playerName]),playerName:"",shuffledPlayers:[].concat(Object(c.a)(this.state.shuffledPlayers),[this.state.playerName]),originalName:!0}):this.setState({originalName:!1,playerName:""})}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault(),this.powerOf2MoreThan4(this.state.playerArray.length)?(this.props.handleAdd(Object(o.a)({},this.state)),this.props.handleTeams(Object(o.a)({},this.state))):(this.setState(Object(o.a)(Object(o.a)({},this.state),{},{playersError:!0})),setTimeout((function(){t.setState(Object(o.a)(Object(o.a)({},t.state),{},{playersError:!1}))}),3e3))}},{key:"handleClear",value:function(){this.setState(Object(o.a)(Object(o.a)({},this.state),{},{playerArray:[],shuffledPlayers:[]}))}},{key:"filter",value:function(e,t){return e.filter((function(e,a){return a!==t}))}},{key:"handleHover",value:function(e){this.setState(Object(o.a)(Object(o.a)({},this.state),{},{hovering:+e.currentTarget.value}))}},{key:"handleFilter",value:function(e){var t=this.state.hovering;this.setState(Object(o.a)(Object(o.a)({},this.state),{},{playerArray:this.filter(this.state.playerArray,t),shuffledPlayers:this.filter(this.state.shuffledPlayers,t)}))}},{key:"noZero",value:function(e){return 0===e?"":e}},{key:"handleWinning",value:function(e){this.setState(Object(o.a)(Object(o.a)({},this.state),{},{winningScore:this.noZero(+e.currentTarget.value)}))}},{key:"render",value:function(){var e=this,t=this.state.playersError;return r.a.createElement("article",{className:"body"},r.a.createElement("h1",{className:"heading"},"(Ping)-Pong"),r.a.createElement("p",{className:"plainText"},"Let's play Pong (or ping-pong...)! To create your tournament, please enter the names of all players below. ",r.a.createElement("span",{className:t?"plainText blinking":"plainText"},"You will need a minimum of 4 players and the total number of players must be a power of 2 e.g. 4, 8, 16, 32...")),r.a.createElement("section",{className:"players"},r.a.createElement("form",{className:"form",onSubmit:this.handleSubmit},r.a.createElement("div",{className:"playerForm"},r.a.createElement("label",{className:"plainText"},"Enter Name:"),r.a.createElement("input",{type:"text",className:"input",onChange:this.handlePlayer,value:this.state.playerName}),r.a.createElement("button",{className:"button",onClick:this.handleAddPlayer,type:"button"},"Add"),this.state.originalName?null:r.a.createElement("p",{className:"plainText warn"},"Name already taken!"),r.a.createElement("label",{className:"plainText"},"Winning Score:"),r.a.createElement("input",{type:"number",min:"1",max:"100",className:"input score",onChange:this.handleWinning,value:this.state.winningScore})),0===this.state.playerArray.length?null:r.a.createElement(r.a.Fragment,null,r.a.createElement("ul",{className:"list"},r.a.createElement("p",{className:"listTitle"},"Players:"),this.state.playerArray.map((function(t,a){return r.a.createElement("span",{className:"listLine",key:a},r.a.createElement("li",{className:"listItem"},t),r.a.createElement("button",{type:"button",className:"xButton",index:a,value:a,onMouseEnter:e.handleHover,onClick:e.handleFilter},"x"))})),r.a.createElement("div",{className:"centerButton"},r.a.createElement("button",{className:"button",onClick:this.handleClear},"Clear"))),r.a.createElement("div",{className:"break"}),r.a.createElement("button",{className:"button start",type:"submit"},"Start!")))))}}]),a}(n.Component),T=Object(f.b)((function(e){return{players:e.players,winningScore:e.winningScore}}),(function(e){return{handleAdd:function(t){return e({type:"ADD_PLAYERS",players:t.playerArray})},handleTeams:function(t){return e({type:"CREATE_GAMES",players:(a=t).playerArray,shuffledPlayers:a.shuffledPlayers,winningScore:a.winningScore});var a}}}))(P),A=function(e){Object(j.a)(a,e);var t=Object(k.a)(a);function a(e){var n;return Object(v.a)(this,a),(n=t.call(this,e)).state={player1:0,player2:0,winner:0,winnerName:"",submitted:!1,winningScore:e.winningScore},n.handlePlayer1=n.handlePlayer1.bind(Object(S.a)(n)),n.handlePlayer2=n.handlePlayer2.bind(Object(S.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(S.a)(n)),n.handleReset=n.handleReset.bind(Object(S.a)(n)),n}return Object(O.a)(a,[{key:"winner",value:function(e,t){return e>=this.state.winningScore?t:0}},{key:"score",value:function(e){return e<this.state.winningScore?e+1:this.state.winningScore}},{key:"handlePlayer1",value:function(){var e=this.state.player1;this.setState(Object(o.a)(Object(o.a)({},this.state),{},{player1:this.score(e),winner:this.winner(e+1,1),winnerName:this.winner(e+1,this.props.player1Name)}))}},{key:"handlePlayer2",value:function(){var e=this.state.player2;this.setState(Object(o.a)(Object(o.a)({},this.state),{},{player2:this.score(e),winner:this.winner(e+1,2),winnerName:this.winner(e+1,this.props.player2Name)}))}},{key:"handleSubmit",value:function(e){e.preventDefault(),this.props.handleSubmit(Object(o.a)({},this.state)),this.setState(Object(o.a)(Object(o.a)({},this.state),{},{submitted:!0}))}},{key:"handleReset",value:function(){this.setState(Object(o.a)(Object(o.a)({},this.state),{},{player1:0,player2:0}))}},{key:"componentDidUpdate",value:function(e){this.props.id!==e.id&&this.setState(Object(o.a)(Object(o.a)({},this.state),{},{submitted:!1,player1:0,player2:0,winner:0,winnerName:""}))}},{key:"render",value:function(){var e=this.props,t=e.player1Name,a=e.player2Name,n=e.game,l=e.winners,s=this.state,i=s.player1,c=s.player2,o=s.winner,u=s.submitted;return r.a.createElement(r.a.Fragment,null,r.a.createElement("article",{className:"fullCard"},l.includes(t||a)?r.a.createElement("p",{className:"plainText centerText"},"Game ",n+1," Submitted"):r.a.createElement(r.a.Fragment,null,r.a.createElement("header",{className:"cardHeader"},r.a.createElement("h1",{className:"gameHeader"},"Game ",n+1)),r.a.createElement("section",{className:"cardScore"},r.a.createElement("section",{className:"scoreOdd"},r.a.createElement("button",{className:"button",onClick:this.handlePlayer1},"+"),r.a.createElement("p",{className:"player"},t)),r.a.createElement("section",{className:"card here"},r.a.createElement("p",{className:"score1"},i),r.a.createElement("p",{className:"score2"},c),r.a.createElement("div",{className:"bar bar1"}),r.a.createElement("div",{className:"bar bar2"})),r.a.createElement("section",{className:"scoreEven"},r.a.createElement("p",{className:"player"},a),r.a.createElement("button",{className:"button",onClick:this.handlePlayer2},"+"))),r.a.createElement("div",{className:"centerButton"},0===o?r.a.createElement("button",{className:"button",type:"button",onClick:this.handleReset},"Reset"):!0!==u?r.a.createElement(r.a.Fragment,null,r.a.createElement("p",{className:"plainText"},"".concat(1===o?t:a," Wins!")),r.a.createElement("button",{className:"button win",type:"button",onClick:this.handleReset},"Reset"),r.a.createElement("button",{className:"button win",onClick:this.handleSubmit,type:"submit"},"Submit")):r.a.createElement("p",{className:"plainText"},"Scores submitted!")))))}}]),a}(n.Component),C=function(e){var t=e.games,a=e.handleReset,n=e.handleSubmit,l=e.handleNextRound,s=e.winners,i=e.round,c=e.winningScore;return r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",{className:"heading"},function(e,t){return 1===e.length?"Final":2===e.length?"Semi Finals":4===e.length?"Quarter Finals":"Round ".concat(t)}(t,i)),r.a.createElement("section",{className:"cardGroup"},t.map((function(e,t){return r.a.createElement(A,{winningScore:c,handleSubmit:n,key:t,game:t,id:"".concat(t).concat(e.player1).concat(e.player2),player1Name:e.player1,player2Name:e.player2,winners:s})}))),r.a.createElement("div",{className:"centerButton"},s.length===t.length?r.a.createElement("button",{className:"button next",onClick:l},"Next Round"):null,r.a.createElement("button",{className:"button reset",onClick:a},"New Competition")))},R=Object(f.b)((function(e){return{players:e.players,games:e.games,round:e.round,winners:e.winners,winningScore:e.winningScore}}),(function(e){return{handleReset:function(t){return e({type:"RESET"})},handleSubmit:function(t){return e({type:"WINNER",winner:t.winnerName})},handleNextRound:function(t){return e({type:"NEXT"})}}}))(C),x=function(e){var t=e.winners,a=e.handleReset;return r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",{className:"heading"},"Well Done ",t[0],"!"),r.a.createElement("section",{className:"pyro"},r.a.createElement("div",{className:"before"}),r.a.createElement("div",{className:"after"})),r.a.createElement("section",{className:"centerButton"},r.a.createElement("button",{className:"button reset",onClick:a},"New Competition")))},F=Object(f.b)((function(e){return{winners:e.winners}}),(function(e){return{handleReset:function(t){return e({type:"RESET"})}}}))(x),W=function(e){var t=e.submitted,a=e.finished;return r.a.createElement(N.a,null,r.a.createElement(g.c,null,r.a.createElement(g.a,{exact:!0,path:"/"},r.a.createElement(w,null)),r.a.createElement(g.a,{exact:!0,path:"/home"},t?a?r.a.createElement(F,null):r.a.createElement(R,null):r.a.createElement(T,null))))},_=Object(f.b)((function(e){return{submitted:e.submitted,finished:e.finished}}))(W);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(f.a,{store:E},r.a.createElement(_,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[29,1,2]]]);
//# sourceMappingURL=main.a7c5b224.chunk.js.map